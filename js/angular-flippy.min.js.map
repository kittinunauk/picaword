{"version":3,"sources":["flippy-directive.js"],"names":["angular","module","directive","restrict","scope","flip","flipBack","duration","timingFunction","link","$scope","$elem","$attrs","_flip","isBack","arguments","length","undefined","state","flipped","setTimeout","toggleClass","CUSTOM_PREFIX","options","forEach","item","flipFunc","evt","eventName","indexOf","element","addEventListener","$on","substr","name","el","find","prefix","css"],"mappings":"AAAA,YAGAA,SAAQC,OAAO,qBACbC,UAAU,SAAU,WACpB,OACCC,SAAU,IACVC,OACCC,KAAM,IACNC,SAAU,IACVC,SAAU,IACVC,eAAgB,KAEjBC,KAAM,SAACC,EAAQC,EAAOC,GAAW,QA4CvBC,KACT,GADeC,GAAAC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,IAAS,EAAAA,UAAA,KACjBD,IAAWI,EAAMC,SAAaL,GAAUI,EAAMC,UAEnDC,WAAW,WACVT,EAAMU,YAAY,WAClBH,EAAMC,SAAWD,EAAMC,SACrB,GAIL,QAASd,KACRQ,IAGD,QAASP,KACRO,GAAM,GAzDP,GAAMS,GAAgB,UAChBJ,GACLC,SAAS,GAEJI,GACLhB,SAAU,IACVC,eAAgB,cAReR,SAYxBwB,SAAS,WAAY,kBAAmB,SAACC,GAChDF,EAAQE,GAAQf,EAAQe,GAASf,EAAOe,GAAQF,EAAQE,KAGzDzB,QAAQwB,SAASnB,KAAMA,EAAMC,SAAUA,GAAW,SAACoB,EAAUC,GAC5D3B,QAAQwB,QAAQd,EAAOiB,GAAM,SAACC,GACY,KAArCA,EAAUC,QAAQP,GAErBtB,QAAQ8B,QAAQnB,GAAO,GAAGoB,iBAAiBH,EAAWF,GAEtDhB,EAAOsB,IAAIJ,EAAUK,OAAOX,EAAcN,QAASU,OAtBtB1B,QA4BxBwB,SAAS,eAAgB,eAAgB,SAACU,GACjD,GAAMC,GAAKxB,EAAMyB,KAAKF,EACL,IAAbC,EAAGnB,QACNhB,QAAQwB,SAAS,GAAI,OAAQ,YAAa,SAACa,GAC1CrC,QAAQ8B,QAAQK,EAAG,IAAIG,IAAID,EAAS,aAAc,OAASd,EAAQhB,SAAS,IAAO,KAAOgB,EAAQf","file":"angular-flippy.min.js","sourcesContent":["/**\n * handles the behaviour of flipping card.\n */\nangular.module('angular-flippy', [])\n\t.directive('flippy', () => {\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tflip: '=',\n\t\t\t\tflipBack: '=',\n\t\t\t\tduration: '@',\n\t\t\t\ttimingFunction: '@'\n\t\t\t},\n\t\t\tlink: ($scope, $elem, $attrs) => {\n\n\t\t\t\tconst CUSTOM_PREFIX = 'custom:';\n\t\t\t\tconst state = {\n\t\t\t\t\tflipped: false\n\t\t\t\t};\n\t\t\t\tconst options = {\n\t\t\t\t\tduration: 400,\n\t\t\t\t\ttimingFunction: 'ease-in-out'\n\t\t\t\t};\n\n\t\t\t\t// assign new options\n\t\t\t\tangular.forEach(['duration', 'timingFunction'], (item) => {\n\t\t\t\t\toptions[item] = ($scope[item]) ? $scope[item] : options[item];\n\t\t\t\t});\n\n\t\t\t\tangular.forEach({flip: flip, flipBack: flipBack}, (flipFunc, evt) => {\n\t\t\t\t\tangular.forEach($scope[evt], (eventName) => {\n\t\t\t\t\t\tif (eventName.indexOf(CUSTOM_PREFIX) === -1) {\n\t\t\t\t\t\t\t// directly register event listener to avoid having to start off angular's digest cycle\n\t\t\t\t\t\t\tangular.element($elem)[0].addEventListener(eventName, flipFunc);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$scope.$on(eventName.substr(CUSTOM_PREFIX.length), flipFunc);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// set flip duration\n\t\t\t\tangular.forEach(['flippy-front', 'flippy-back'], (name) => {\n\t\t\t\t\tconst el = $elem.find(name);\n\t\t\t\t\tif (el.length == 1) {\n\t\t\t\t\t\tangular.forEach(['', '-ms-', '-webkit-'], (prefix) => {\n\t\t\t\t\t\t\tangular.element(el[0]).css(prefix + 'transition', 'all ' + options.duration/1000 + 's ' + options.timingFunction);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t\t/**\n\t\t\t\t * flips the card.\n\t\t\t\t * will be ignored, if the state is already the same as the target state.\n\t\t\t\t *\n\t\t\t\t * @param boolean isBack\n\t\t\t\t */\n\t\t\t\tfunction _flip(isBack = false) {\n\t\t\t\t\tif ((!isBack && !state.flipped) || (isBack && state.flipped)) {\n\t\t\t\t\t\t// to avoid toggling it right back if flip-back is the same event\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t$elem.toggleClass('flipped');\n\t\t\t\t\t\t\tstate.flipped = !state.flipped;\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction flip() {\n\t\t\t\t\t_flip();\n\t\t\t\t}\n\n\t\t\t\tfunction flipBack() {\n\t\t\t\t\t_flip(true);\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t});\n"],"sourceRoot":"/source/"}